# Arka MCP Gateway - Environment Variables
# Copy this file to .env and fill in your actual values
# NEVER commit .env file to git - it contains sensitive secrets!

# ==============================================================================
# SECURITY NOTICE
# ==============================================================================
# All secret values below MUST be rotated if your .env file was ever committed
# to git or exposed publicly. See SECURITY_ROTATION_GUIDE.md for instructions.

# Database Configuration
# PostgreSQL connection string for storing user preferences and OAuth tokens
# Format: postgresql+asyncpg://username:password@host:port/database
# Production: Use SSL/TLS connection with ?ssl=require parameter
ARKA_DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/arka_mcp_gateway

# Azure OAuth Configuration
# Get credentials from: https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps/ApplicationsListBlade
ARKA_AZURE_CLIENT_ID=your-azure-client-id
ARKA_AZURE_CLIENT_SECRET=your-azure-client-secret
ARKA_AZURE_TENANT_ID=your-azure-tenant-id

# JWT Configuration
# Generate JWT_SECRET_KEY with: openssl rand -hex 32
# NEVER use default or weak values in production!
ARKA_JWT_SECRET_KEY=generate-with-openssl-rand-hex-32
ARKA_JWT_ALGORITHM=HS256
ARKA_JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
ARKA_JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Encryption Configuration
# Fernet symmetric encryption key for encrypting OAuth secrets in database
# Generate a new key with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
# CRITICAL: If this key is exposed or lost, all encrypted OAuth tokens become unusable
ARKA_ENCRYPTION_KEY=generate-with-fernet-generate-key

# Additional encryption key (legacy - may be used elsewhere in codebase)
ENCRYPTION_KEY=generate-with-fernet-generate-key

# Application URLs
# Update these for your production environment
ARKA_FRONTEND_URL=http://localhost:5173
ARKA_BACKEND_URL=http://localhost:8000
ARKA_WORKER_URL=http://localhost:8001

# GitHub OAuth Configuration (for GitHub MCP authorization)
# Create a GitHub OAuth App at https://github.com/settings/developers
# Set the callback URL to: {BACKEND_URL}/servers/github-mcp/auth-callback
ARKA_GITHUB_OAUTH_CLIENT_ID=your-github-oauth-app-client-id
ARKA_GITHUB_OAUTH_CLIENT_SECRET=your-github-oauth-app-client-secret
ARKA_GITHUB_OAUTH_REDIRECT_URI=http://localhost:8000/servers/github-mcp/auth-callback

# Gmail OAuth Configuration (for Gmail MCP authorization)
# Create credentials at: https://console.cloud.google.com/apis/credentials
# Set the callback URL to: {BACKEND_URL}/servers/gmail-mcp/auth-callback
GMAIL_OAUTH_CLIENT_ID=your-gmail-oauth-client-id
GMAIL_OAUTH_CLIENT_SECRET=your-gmail-oauth-client-secret
GMAIL_OAUTH_REDIRECT_URI=http://localhost:8000/servers/gmail-mcp/auth-callback

# Supabase OAuth Configuration (for Supabase MCP authorization)
# Create integration at Supabase Dashboard > Settings > Integrations
# Set the callback URL to: {BACKEND_URL}/servers/supabase-mcp/auth-callback
SUPABASE_OAUTH_CLIENT_ID=your-supabase-oauth-client-id
SUPABASE_OAUTH_CLIENT_SECRET=your-supabase-oauth-client-secret
SUPABASE_OAUTH_REDIRECT_URI=http://localhost:8000/servers/supabase-mcp/auth-callback

# GitHub User OAuth Configuration (for end-user dashboard authentication)
# This is DIFFERENT from ARKA_GITHUB_OAUTH_* above (which is for GitHub MCP server)
# Create a NEW OAuth App at: https://github.com/settings/developers â†’ New OAuth App
# Application name: "Arka MCP Gateway - User Auth"
# Homepage URL: {FRONTEND_URL}
# Authorization callback URL: {BACKEND_URL}/auth/callback/github
ARKA_GITHUB_USER_OAUTH_CLIENT_ID=your-github-user-oauth-client-id
ARKA_GITHUB_USER_OAUTH_CLIENT_SECRET=your-github-user-oauth-client-secret

# ==============================================================================
# PRODUCTION SECURITY SETTINGS
# ==============================================================================
# Uncomment and configure these for production deployment

# Enable secure cookies (requires HTTPS)
# ARKA_SECURE_COOKIES=true

# Database SSL/TLS mode (require, verify-ca, verify-full)
# ARKA_DATABASE_SSL_MODE=require

# Rate limiting
# ARKA_RATE_LIMIT_ENABLED=true
# ARKA_RATE_LIMIT_PER_MINUTE=60

# CORS origins (comma-separated)
# ARKA_CORS_ORIGINS=https://your-frontend-domain.com

# Worker binding (bind to localhost only if behind reverse proxy)
# ARKA_WORKER_HOST=127.0.0.1
